(function(t){function s(s){for(var a,o,c=s[0],r=s[1],l=s[2],d=0,h=[];d<c.length;d++)o=c[d],i[o]&&h.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(s);while(h.length)h.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,c=1;c<e.length;c++){var r=e[c];0!==i[r]&&(a=!1)}a&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},i={app:0},n=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=s,c=c.slice();for(var l=0;l<c.length;l++)s(c[l]);var u=r;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"01d9":function(t,s,e){},"07e8":function(t,s,e){},"0854":function(t,s,e){},"0a4d":function(t,s,e){},"0d56":function(t,s,e){"use strict";var a=e("4ee0"),i=e.n(a);i.a},1098:function(t,s,e){},"151f":function(t,s,e){},"155a":function(t,s,e){},"174e":function(t,s,e){"use strict";var a=e("ae8e"),i=e.n(a);i.a},"1acb":function(t,s,e){"use strict";var a=e("0a4d"),i=e.n(a);i.a},"1bb6":function(t,s,e){},"1c76":function(t,s,e){"use strict";var a=e("4b77"),i=e.n(a);i.a},2468:function(t,s,e){"use strict";var a=e("151f"),i=e.n(a);i.a},2502:function(t,s,e){},"28b2":function(t,s,e){},"29c2":function(t,s,e){},"30a7":function(t,s,e){},3617:function(t,s,e){"use strict";var a=e("3f08"),i=e.n(a);i.a},"3a51":function(t,s,e){},"3f08":function(t,s,e){},"470a":function(t,s,e){},"4b77":function(t,s,e){},"4ee0":function(t,s,e){},"527e":function(t,s,e){"use strict";var a=e("82ac"),i=e.n(a);i.a},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("097d");var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("keep-alive",{attrs:{exclude:"shop"}},[e("router-view")],1)],1)},n=[],o={name:"App"},c=o,r=(e("7faf"),e("2877")),l=Object(r["a"])(c,i,n,!1,null,null,null),u=l.exports,d=e("8c4f"),h=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("router-view"),e("bottom-nav")],1)},p=[],v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"bottomnav"},[e("router-link",{staticClass:"navli",attrs:{to:{name:"home"},tag:"li",exact:""}},[e("span",{staticClass:"iconfont nav-icon"},[t._v("")]),e("p",{staticClass:"nav-title"},[t._v("首页")])]),e("router-link",{staticClass:"navli",attrs:{to:{name:"explore"},tag:"li"}},[e("span",{staticClass:"iconfont nav-icon"},[t._v("")]),e("p",{staticClass:"nav-title"},[t._v("朋友圈")])]),e("router-link",{staticClass:"navli",attrs:{to:{name:"zone"},tag:"li"}},[e("span",{staticClass:"iconfont nav-icon"},[t._v("")]),e("p",{staticClass:"nav-title"},[t._v("个人中心")])])],1)},f=[],m={name:"BottomNav"},C=m,_=(e("a3ac"),Object(r["a"])(C,v,f,!1,null,"01cbc0bf",null)),g=_.exports,b={name:"home",components:{BottomNav:g}},w=b,y=Object(r["a"])(w,h,p,!1,null,null,null),k=y.exports,x=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[e("home-header"),e("home-swiper",{attrs:{list:t.swiperList}}),e("home-icons",{attrs:{list:t.iconList}}),e("home-recommend",{attrs:{list:t.recommendList}}),e("home-weekend",{attrs:{list:t.weekendList}}),e("load",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],1)},L=[],S=e("cebc"),E=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"header-input"},[e("span",{staticClass:"iconfont"},[t._v("")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.info,expression:"info",modifiers:{trim:!0}}],staticClass:"search",attrs:{type:"text",placeholder:"输入城市/景点/游玩/主题"},domProps:{value:t.info},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.search(s)},input:function(s){s.target.composing||(t.info=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})]),e("search-dig",{attrs:{"is-show":t.isShow},on:{close:t.close}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("提示")]),e("div",{staticClass:"dialog_main",attrs:{slot:"main"},slot:"main"},[t._v("\n        这里是内容插入到子组件的slot的name为main里面，可以在父组件中添加class定义样式，事件类型等各种操作\n    ")])]),e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"header-right"},[t._v("\n      "+t._s(this.city)+"\n      "),e("span",{staticClass:"iconfont arrow-icon"},[t._v("")])])])],1)},O=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header-left"},[e("div",{staticClass:"iconfont back-icon"},[t._v("")])])}],$=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dialog"},[t.isShow?e("div",{staticClass:"cover",on:{click:t.close}}):t._e(),e("transition",{attrs:{name:"drop"}},[t.isShow?e("div",{staticClass:"content",style:{top:t.digTop+"%",width:t.digWidth+"%",left:t.digLeft+"%"}},[e("div",{staticClass:"header"},[t._t("header",[t._v("提示信息")])],2),e("div",{staticClass:"main",style:{paddingTop:t.digPdt+"rem",paddingBottom:t.digPdb+"rem"}},[t._t("main",[t._v("弹窗内容")])],2),e("div",{staticClass:"foot",on:{click:t.close}},[e("span",{staticClass:"btn"},[t._v("取消")]),e("span",{staticClass:"btn"},[t._v("确认")])])]):t._e()])],1)},j=[],I=(e("c5f6"),{props:{isShow:{type:Boolean,default:!1,required:!0},digWidth:{type:Number},digLeft:{type:Number},digTop:{type:Number},digPdt:{type:Number},digPdb:{type:Number}},methods:{close:function(){this.$emit("close")}}}),P=I,N=(e("f61b"),Object(r["a"])(P,$,j,!1,null,"8233c186",null)),H=N.exports,T=e("2f62"),B={name:"HomeHeader",components:{searchDig:H},data:function(){return{info:"",isShow:!1}},methods:{search:function(){this.isShow=!0},close:function(){this.isShow=!1}},computed:Object(S["a"])({},Object(T["c"])(["city"]))},A=B,D=(e("64f4"),Object(r["a"])(A,E,O,!1,null,"7fa6a52a",null)),G=D.exports,q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrapper"},[t.showSwiper?e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.list,function(t){return e("swiper-slide",{key:t.id},[e("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl}})])}),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1)},M=[],z={name:"HomeSwiper",props:{list:Array},data:function(){return{swiperOption:{pagination:".swiper-pagination",loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1}}},computed:{showSwiper:function(){return this.list.length}}},W=z,Y=(e("0d56"),Object(r["a"])(W,q,M,!1,null,"29df5d3f",null)),F=Y.exports,R=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"icons"},[e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.pages,function(s,a){return e("swiper-slide",{key:a},t._l(s,function(s){return e("div",{key:s.id,staticClass:"icon"},[e("div",{staticClass:"icon-img-content"},[e("router-link",{staticClass:"icon-img",attrs:{to:{name:s.link},tag:"img",src:s.imgUrl}})],1),e("p",{staticClass:"icon-desc"},[t._v(t._s(s.desc))])])}),0)}),t.showPagination?e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()],2)],1)},U=[],J=(e("ac6a"),{name:"HomeIcons",data:function(){return{swiperOption:{pagination:".swiper-pagination"}}},props:{list:Array},computed:{pages:function(){var t=[];return this.list.forEach(function(s,e){var a=Math.floor(e/8);t[a]||(t[a]=[]),t[a].push(s)}),t},showPagination:function(){return this.list.length>8}}}),Q=J,K=(e("b8ba"),Object(r["a"])(Q,R,U,!1,null,"5cae979a",null)),V=K.exports,X=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"title"},[t._v("热销推荐")]),e("ul",t._l(t.list,function(s,a){return e("router-link",{key:a,staticClass:"item border-bottom",attrs:{to:"/detail/"+s.id,tag:"li"}},[e("img",{staticClass:"item-img",attrs:{src:s.imgUrl}}),e("div",{staticClass:"item-info"},[e("p",{staticClass:"item-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"item-desc"},[t._v(t._s(s.desc))]),e("button",{staticClass:"item-button"},[t._v("查看详情")])])])}),1)])},Z=[],tt={name:"HomeRecommend",props:{list:Array}},st=tt,et=(e("3617"),Object(r["a"])(st,X,Z,!1,null,"39736ee9",null)),at=et.exports,it=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"title"},[t._v("周末去哪儿")]),e("ul",t._l(t.list,function(s,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"item-wrapper"},[e("img",{staticClass:"item-img",attrs:{src:s.imgUrl}})]),e("div",{staticClass:"item-info"},[e("p",{staticClass:"item-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"item-desc"},[t._v(t._s(s.desc))])])])}),0)])},nt=[],ot={name:"HomeWeekend",props:{list:Array}},ct=ot,rt=(e("d710"),Object(r["a"])(ct,it,nt,!1,null,"dc8abddc",null)),lt=rt.exports,ut=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"loading"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"dot"}),e("div",{staticClass:"dot"}),e("div",{staticClass:"dot"})])])}],ht={name:"load"},pt=ht,vt=(e("e071"),Object(r["a"])(pt,ut,dt,!1,null,"3290bcf0",null)),ft=vt.exports,mt=e("bc3a"),Ct=e.n(mt),_t={name:"index",components:{HomeHeader:G,HomeSwiper:F,HomeIcons:V,HomeRecommend:at,HomeWeekend:lt,Load:ft},data:function(){return{lastCity:"",swiperList:[],iconList:[],recommendList:[],weekendList:[],showLoading:!0}},methods:{getHomeInfo:function(){Ct.a.get("/api/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if(t=t.data,t.ret&&t.data){var s=t.data;this.swiperList=s.swiperList,this.iconList=s.iconList,this.recommendList=s.recommendList,this.weekendList=s.weekendList}this.showLoading=!1}},computed:Object(S["a"])({},Object(T["c"])(["city"])),mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},gt=_t,bt=(e("b6e4"),Object(r["a"])(gt,x,L,!1,null,"152e927b",null)),wt=bt.exports,yt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("pyq-header"),e("pyq-container",{attrs:{list:t.pyqList}})],1)},kt=[],xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("router-link",{staticClass:"iconfont icon-nav",attrs:{to:"/",tag:"span"}},[t._v("")]),e("span",[t._v("朋友圈")]),e("router-link",{staticClass:"iconfont icon-nav",attrs:{to:{name:"zone"},tag:"span"}},[t._v("")])],1)},Lt=[],St={name:"PyqHeader"},Et=St,Ot=(e("e9f1"),Object(r["a"])(Et,xt,Lt,!1,null,"53890aa4",null)),$t=Ot.exports,jt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"wrapper",staticClass:"scroll-wrap"},[e("div",{staticClass:"container"},t._l(t.list,function(s,a){return e("div",{key:a,staticClass:"main border-bottom"},[e("div",{staticClass:"left"},[e("div",{staticClass:"head-pic",style:{backgroundImage:"url("+s.userHead+")"}})]),e("div",{staticClass:"right"},[e("div",{staticClass:"user-name"},[t._v(t._s(s.userName))]),e("div",{staticClass:"desc"},[t._v(t._s(s.desc))]),e("div",{staticClass:"sudoku"},t._l(s.pyqImg,function(a,i){return e("div",{key:i,staticClass:"sudoku-wrap",class:{"sudoku-1":1==s.pyqImg.length,"sudoku-4":4==s.pyqImg.length},style:{backgroundImage:"url("+a+")"},on:{click:function(e){return t.handleBannerClick(s.pyqImg,i)}}})}),0),e("div",{staticClass:"time"},[t._v("\n          "+t._s(s.time)+"\n          "),e("div",{staticClass:"tool-wrap"},[s.isPraise?t._e():e("div",{staticClass:"tool border-right",on:{click:function(e){return t.praise(s)}}},[e("span",{staticClass:"iconfont icon-tool"},[t._v("")]),t._v("赞\n            ")]),s.isPraise?e("div",{staticClass:"tool tool-active border-right",on:{click:function(e){return t.praise(s)}}},[e("span",{staticClass:"iconfont icon-tool"},[t._v("")]),t._v("赞\n            ")]):t._e(),e("div",{staticClass:"tool",on:{click:function(s){return t.handleChatBoxClick(s)}}},[e("span",{staticClass:"iconfont icon-tool"},[t._v("")]),t._v("评论\n            ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.comment||s.praise,expression:"item.comment || item.praise"}],staticClass:"comment-wrap"},[e("div",{staticClass:"triangle"}),e("div",{staticClass:"comment"},[e("div",{staticClass:"praise",class:{"border-bottom":s.comment&&s.praise}},[e("span",{staticClass:"iconfont icon-tool"},[t._v("")]),t._l(s.praise,function(a,i){return e("span",{key:i},[t._v("\n                "+t._s(a.praiseName)+"\n                "),s.praise[i+1]?e("span",[t._v(",")]):t._e()])})],2),e("ul",{staticClass:"comment-ul"},t._l(s.comment,function(s,a){return e("li",{key:a,staticClass:"comment-li"},[e("span",{staticClass:"comment-name"},[t._v(t._s(s.commentName))]),e("span",[t._v("：")]),e("span",{staticClass:"comment-desc"},[t._v(t._s(s.commentDesc))])])}),0)])])])])}),0),e("fade-animation",[t.showGallary?e("common-gallary",{attrs:{imgs:t.imgs,page:this.page},on:{close:t.handleGallaryClose}}):t._e()],1),e("chat-box",{directives:[{name:"show",rawName:"v-show",value:t.showChatBox,expression:"showChatBox"}],on:{close:t.handleChatBoxClose}})],1)},It=[],Pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container",on:{click:t.handleGallaryClick}},[e("div",{staticClass:"wrapper"},[e("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.imgs,function(t,s){return e("swiper-slide",{key:s},[e("img",{staticClass:"gallary-img",attrs:{src:t}})])}),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},Nt=[],Ht={name:"CommmonGallary",props:{imgs:{type:Array},page:{type:Number,default:function(){return 0}}},data:function(){return{swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction",initialSlide:this.page,observeParents:!0,observer:!0}}},methods:{handleGallaryClick:function(){this.$emit("close")}}},Tt=Ht,Bt=(e("d7ac"),Object(r["a"])(Tt,Pt,Nt,!1,null,"0ad691cd",null)),At=Bt.exports,Dt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",[t._t("default")],2)},Gt=[],qt={name:"FadeAnimation"},Mt=qt,zt=(e("174e"),Object(r["a"])(Mt,Dt,Gt,!1,null,"3a240386",null)),Wt=zt.exports,Yt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"mask",on:{click:t.handleChatBoxClose}}),e("div",{staticClass:"box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],staticClass:"chat",attrs:{type:"text",placeholder:"评论",autofocus:""},domProps:{value:t.word},on:{input:function(s){s.target.composing||(t.word=s.target.value)}}}),e("span",{staticClass:"iconfont emoji-icon"},[t._v("")]),e("button",{class:t.word?"enSend":"disSend",attrs:{disabled:!t.word},on:{click:t.send}},[t._v("发送")])])])},Ft=[],Rt={name:"ChatBox",data:function(){return{word:""}},methods:{handleChatBoxClose:function(){this.$emit("close")},send:function(){this.word="",this.$emit("close")}}},Ut=Rt,Jt=(e("65b2"),Object(r["a"])(Ut,Yt,Ft,!1,null,"12d807d5",null)),Qt=Jt.exports,Kt=e("1fba"),Vt={name:"PyqContainer",components:{CommonGallary:At,FadeAnimation:Wt,ChatBox:Qt},data:function(){return{imgs:[],page:0,showGallary:!1,showChatBox:!1}},mounted:function(){this.scroll=new Kt["a"](this.$refs.wrapper,{click:!0,mouseWheel:!0})},props:{list:Array},methods:{handleBannerClick:function(t,s){this.imgs=t,this.page=s,this.showGallary=!0},handleGallaryClose:function(){this.showGallary=!1},handleChatBoxClick:function(t){this.scroll.scrollToElement(event.currentTarget,1e3,0,-100),this.showChatBox=!0},handleChatBoxClose:function(){this.showChatBox=!1},praise:function(t){t.isPraise=!t.isPraise}}},Xt=Vt,Zt=(e("cb80"),Object(r["a"])(Xt,jt,It,!1,null,"67502346",null)),ts=Zt.exports,ss={name:"explore",components:{PyqHeader:$t,PyqContainer:ts},data:function(){return{pyqList:[]}},methods:{getPyqInfo:function(){Ct.a.get("/api/pyq.json").then(this.getPyqInfoSucc)},getPyqInfoSucc:function(t){if(t=t.data,t.ret&&t.data){var s=t.data;this.pyqList=s.pyqList}}},mounted:function(){this.getPyqInfo()}},es=ss,as=Object(r["a"])(es,yt,kt,!1,null,null,null),is=as.exports,ns=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"header"},[e("router-link",{staticClass:"iconfont icon-camera",attrs:{to:{name:"explore"}}},[t._v("")]),e("div",{staticClass:"head-pic"}),t._m(0),e("div",{staticClass:"icon-content"},[e("span",{staticClass:"iconfont icon-info",on:{click:t.showCode}},[t._v("")]),e("span",{staticClass:"iconfont icon-info"},[t._v("")])])],1),e("qr-code",{attrs:{"is-show":t.isShow},on:{close:t.close}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("我的名片")]),e("div",{staticClass:"dialog_main",attrs:{slot:"main"},slot:"main"},[e("qriously",{attrs:{value:"Hello World!",size:200}})],1)]),e("ul",{staticClass:"zoneul"},[e("router-link",{staticClass:"zoneli border-bottom",attrs:{to:{name:"explore"},tag:"li"}},[e("span",{staticClass:"iconfont icon-title"},[t._v("")]),e("p",{staticClass:"zone-title"},[t._v("收藏")]),e("span",{staticClass:"iconfont icon-enter"},[t._v("")])]),e("router-link",{staticClass:"zoneli border-bottom",attrs:{to:{name:"explore"},tag:"li"}},[e("span",{staticClass:"iconfont icon-title"},[t._v("")]),e("p",{staticClass:"zone-title"},[t._v("相册")]),e("span",{staticClass:"iconfont icon-enter"},[t._v("")])]),e("router-link",{staticClass:"zoneli border-bottom",attrs:{to:{name:"explore"},tag:"li"}},[e("span",{staticClass:"iconfont icon-title"},[t._v("")]),e("p",{staticClass:"zone-title"},[t._v("钱包")]),e("span",{staticClass:"iconfont icon-enter"},[t._v("")])]),e("router-link",{staticClass:"zoneli border-bottom",attrs:{to:{name:"explore"},tag:"li"}},[e("span",{staticClass:"iconfont icon-title"},[t._v("")]),e("p",{staticClass:"zone-title"},[t._v("设置")]),e("span",{staticClass:"iconfont icon-enter"},[t._v("")])])],1)],1)},os=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"info-content"},[e("div",{staticClass:"info-name"},[t._v("Name")]),e("div",{staticClass:"info-desc"},[t._v("Your Desc")])])}],cs={name:"zone",components:{QrCode:H},data:function(){return{info:"",isShow:!1}},methods:{showCode:function(){this.isShow=!0},close:function(){this.isShow=!1}}},rs=cs,ls=(e("ef78"),Object(r["a"])(rs,ns,os,!1,null,"bb8ebbde",null)),us=ls.exports,ds=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("city-header"),e("city-search",{attrs:{cities:t.cities}}),e("city-list",{attrs:{cities:t.cities,hotCities:t.hotCities,letter:t.letter}}),e("city-alphabet",{attrs:{cities:t.cities},on:{change:t.handleLetterChange}})],1)},hs=[],ps=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[t._v("\n    城市选择\n    "),e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"iconfont header-back"},[t._v("")])])],1)},vs=[],fs={name:"CityHeader"},ms=fs,Cs=(e("cf91"),Object(r["a"])(ms,ps,vs,!1,null,"0f6e91e5",null)),_s=Cs.exports,gs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keyword},on:{input:function(s){s.target.composing||(t.keyword=s.target.value)}}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],ref:"search",staticClass:"search-content"},[e("ul",[t._l(t.list,function(s){return e("li",{key:s.id,staticClass:"search-item border-bottom",on:{click:function(e){return t.handleCityClick(s.name)}}},[t._v("\n      "+t._s(s.name)+"\n      ")])}),e("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoData,expression:"hasNoData"}],staticClass:"search-item border-bottom"},[t._v("没有找到匹配数据")])],2)])])},bs=[],ws=(e("7f7f"),e("386d"),{name:"CitySearch",props:{cities:Object},data:function(){return{keyword:"",list:[],timer:null}},methods:{handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/")}},mounted:function(){this.scroll=new Kt["a"](this.$refs.search)},computed:{hasNoData:function(){return!this.list.length}},watch:{keyword:function(){var t=this;this.timer&&clearTimeout(this.timer),this.keyword?this.timer=setTimeout(function(){var s=[];for(var e in t.cities)t.cities[e].forEach(function(e){(e.spell.indexOf(t.keyword)>-1||e.name.indexOf(t.keyword)>-1)&&s.push(e)});t.list=s},100):this.list=[]}}}),ys=ws,ks=(e("2468"),Object(r["a"])(ys,gs,bs,!1,null,"33377865",null)),xs=ks.exports,Ls=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"wrapper",staticClass:"list"},[e("div",[e("div",{staticClass:"area"},[e("div",{staticClass:"title border-topbottom"},[t._v("当前城市")]),e("div",{staticClass:"button-list"},[e("div",{staticClass:"button-wrapper"},[e("div",{staticClass:"button"},[t._v("\n            "+t._s(this.city)+"\n          ")])])])]),e("div",{staticClass:"area"},[e("div",{staticClass:"title border-topbottom"},[t._v("热门城市")]),e("div",{staticClass:"button-list"},t._l(t.hotCities,function(s){return e("div",{key:s.id,staticClass:"button-wrapper",on:{click:function(e){return t.handleCityClick(s.name)}}},[e("div",{staticClass:"button"},[t._v("\n            "+t._s(s.name)+"\n          ")])])}),0)]),t._l(t.cities,function(s,a){return e("div",{key:a,ref:a,refInFor:!0,staticClass:"area"},[e("div",{staticClass:"title border-topbottom"},[t._v("\n        "+t._s(a)+"\n      ")]),e("div",{staticClass:"item-list"},t._l(s,function(s){return e("div",{key:s.id,staticClass:"item border-bottom",on:{click:function(e){return t.handleCityClick(s.name)}}},[t._v("\n          "+t._s(s.name)+"\n        ")])}),0)])})],2)])},Ss=[],Es={name:"CityList",props:{hotCities:Array,cities:Object,letter:String},mounted:function(){this.scroll=new Kt["a"](this.$refs.wrapper,{click:!0})},methods:Object(S["a"])({handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/")}},Object(T["b"])(["changeCity"])),watch:{letter:function(){if(this.letter){var t=this.$refs[this.letter][0];this.scroll.scrollToElement(t)}}},computed:Object(S["a"])({},Object(T["c"])({city:"city"}))},Os=Es,$s=(e("5c02"),Object(r["a"])(Os,Ls,Ss,!1,null,"55e218af",null)),js=$s.exports,Is=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"list"},t._l(t.letters,function(s){return e("li",{key:s,ref:s,refInFor:!0,staticClass:"item",on:{click:t.handleLetterClick,touchstart:function(s){return s.preventDefault(),t.handleTouchStart(s)},touchmove:t.handleTouchMove,touchend:t.handleTouchEnd}},[t._v("\n    "+t._s(s)+"\n  ")])}),0)},Ps=[],Ns={name:"CityAlphabet",props:{cities:Object},data:function(){return{touchStatus:!1,startY:0,timer:null}},methods:{handleLetterClick:function(t){this.$emit("change",t.target.innerText)},handleTouchStart:function(){this.touchStatus=!0},handleTouchMove:function(t){var s=this;this.touchStatus&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var e=t.touches[0].clientY-79,a=Math.floor((e-s.startY)/20);a>=0&&a<s.letters.length&&s.$emit("change",s.letters[a])},15))},handleTouchEnd:function(){this.touchStatus=!1}},computed:{letters:function(){var t=[];for(var s in this.cities)t.push(s);return t}},updated:function(){this.startY=this.$refs["A"][0].offsetTop}},Hs=Ns,Ts=(e("5c7d"),Object(r["a"])(Hs,Is,Ps,!1,null,"aaab241e",null)),Bs=Ts.exports,As={name:"city",components:{CityHeader:_s,CitySearch:xs,CityList:js,CityAlphabet:Bs},data:function(){return{cities:{},hotCities:[],letter:""}},methods:{getCityInfo:function(){Ct.a.get("/api/city.json").then(this.handleGetCityInfoSucc)},handleGetCityInfoSucc:function(t){if(t=t.data,t.ret&&t.data){var s=t.data;this.currentCity=s.currentCity,this.cities=s.cities,this.hotCities=s.hotCities}},handleLetterChange:function(t){this.letter=t}},mounted:function(){this.getCityInfo()}},Ds=As,Gs=Object(r["a"])(Ds,ds,hs,!1,null,null,null),qs=Gs.exports,Ms=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("detail-banner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,gallaryImgs:t.gallaryImgs}}),e("detail-header"),e("detail-list",{attrs:{list:t.list}}),e("div",{staticClass:"content"})],1)},zs=[],Ws=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[e("img",{staticClass:"banner-img",attrs:{src:t.bannerImg}}),e("div",{staticClass:"banner-info"},[e("div",{staticClass:"banner-title"},[t._v(t._s(this.sightName))]),e("div",{staticClass:"banner-number"},[e("span",{staticClass:"iconfont banner-icon"},[t._v("")]),t._v("\n        "+t._s(this.gallaryImgs.length)+"\n      ")])])]),e("fade-animation",[e("common-gallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],attrs:{imgs:t.gallaryImgs},on:{close:t.handleGallaryClose}})],1)],1)},Ys=[],Fs={name:"DetailBanner",components:{CommonGallary:At,FadeAnimation:Wt},props:{sightName:String,bannerImg:String,gallaryImgs:Array},data:function(){return{showGallary:!1}},methods:{handleBannerClick:function(){this.showGallary=!0},handleGallaryClose:function(){this.showGallary=!1}}},Rs=Fs,Us=(e("b7da"),Object(r["a"])(Rs,Ws,Ys,!1,null,"faa28d7a",null)),Js=Us.exports,Qs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],staticClass:"header-abs",attrs:{tag:"div",to:"/"}},[e("div",{staticClass:"iconfont header-abs-back"},[t._v("")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:t.opacityStyle},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"iconfont header-fixed-back"},[t._v("")])]),t._v("景点详情\n  ")],1)],1)},Ks=[],Vs={name:"DetailHeader",data:function(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;if(t>60){var s=t/140;s=s>1?1:s,this.opacityStyle={opacity:s},this.showAbs=!1}else this.showAbs=!0}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},Xs=Vs,Zs=(e("1c76"),Object(r["a"])(Xs,Qs,Ks,!1,null,"93583d1c",null)),te=Zs.exports,se=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",t._l(t.list,function(s,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"item-title border-bottom"},[e("span",{staticClass:"item-title-icon"}),t._v("\n      "+t._s(s.title)+"\n      "),s.children?t._e():e("em",{staticClass:"item-price"},[t._v("\n        ￥"+t._s(s.price)+"\n      ")])]),s.children?e("div",{staticClass:"item-children"},[e("detail-list",{attrs:{list:s.children}})],1):t._e()])}),0)},ee=[],ae={name:"DetailList",props:{list:Array}},ie=ae,ne=(e("da5f"),Object(r["a"])(ie,se,ee,!1,null,"55c2f216",null)),oe=ne.exports,ce={name:"detail",components:{DetailBanner:Js,DetailHeader:te,DetailList:oe},data:function(){return{sightName:"",bannerImg:"",gallaryImgs:[],list:[],swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction"}}},methods:{getDetailInfo:function(){Ct.a.get("/api/detail.json?id=",{params:{id:this.$route.params.id}}).then(this.handleGetDataSucc)},handleGetDataSucc:function(t){if(t=t.data,t.ret&&t.data){var s=t.data;this.sightName=s.sightName,this.bannerImg=s.bannerImg,this.gallaryImgs=s.gallaryImgs,this.list=s.categoryList}}},activated:function(){this.getDetailInfo()}},re=ce,le=(e("1acb"),Object(r["a"])(re,Ms,zs,!1,null,"04c828dd",null)),ue=le.exports,de=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[e("shop-load",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),e("shop-header"),e("div",{staticClass:"shop-header",style:{backgroundImage:"url("+t.shop.headpic+")"}}),e("div",{staticClass:"title"},[e("div",{staticClass:"shop-pic",style:{backgroundImage:"url("+t.shop.pic+")"}},[t.shop.type?e("span",{staticClass:"shop-type"},[t._v(t._s(t.shop.type))]):t._e()]),e("p",{staticClass:"shop-name"},[t._v(t._s(t.shop.name))]),e("p",{staticClass:"shop-descs"},[e("span",{staticClass:"shop-desc"},[t._v("评价"+t._s(t.shop.rate))]),e("span",{staticClass:"shop-desc"},[t._v("月售"+t._s(t.shop.sale)+"单")]),e("span",{staticClass:"shop-desc"},[t._v("配送约"+t._s(t.shop.time)+"分钟")])]),e("p",{staticClass:"shop-dis"},[e("span",{staticClass:"discounts"},[t._v("满减")]),e("span",{staticClass:"discount"},t._l(t.shop.discount,function(s,a){return e("span",{key:a},[t._v("\n          满"+t._s(s.split("-")[0])+"减"+t._s(s.split("-")[1])+"\n          "),t.shop.discount[a+1]?e("span",[t._v(",")]):t._e()])}),0),t.shop.discount?e("span",{staticClass:"discount-btn"},[t._v("\n        "+t._s(t.shop.discount.length)+"个优惠\n        "),e("span",{staticClass:"iconfont fold-icon"},[t._v("")])]):t._e()])]),e("div",{staticClass:"main"},[e("div",{staticClass:"nav border-bottom"},[e("div",{staticClass:"tag",on:{click:function(s){return t.tab(0)}}},[e("div",{staticClass:"tag-desc",class:{"tag-active":0===t.showPlate}},[t._v("点餐")]),0===t.showPlate?e("div",{staticClass:"line"}):t._e()]),e("div",{staticClass:"tag",on:{click:function(s){return t.tab(1)}}},[e("div",{staticClass:"tag-desc",class:{"tag-active":1===t.showPlate}},[t._v("评价")]),1===t.showPlate?e("div",{staticClass:"line"}):t._e()]),e("div",{staticClass:"tag",on:{click:function(s){return t.tab(2)}}},[e("div",{staticClass:"tag-desc",class:{"tag-active":2===t.showPlate}},[t._v("商家")]),2===t.showPlate?e("div",{staticClass:"line"}):t._e()])]),e("left-animation",[0===t.showPlate?e("div",{staticClass:"plate plate0"},[e("div",{ref:"menuWrapper",staticClass:"menu-nav"},[e("ul",t._l(t.menuList,function(s,a){return e("li",{key:a,staticClass:"menu-li",class:{"menu-active":t.currentIndex===a},on:{click:function(s){return t.selectMenu(a,s)}}},[t.showDot?e("div",{staticClass:"menu-dot"},[t._v("10")]):t._e(),t._v("\n              "+t._s(s.type)+"\n            ")])}),0)]),e("div",{ref:"foodWrapper",staticClass:"menu-main"},[e("div",t._l(t.menuList,function(s,a){return e("div",{key:a,staticClass:"food-hook"},[e("div",{staticClass:"menu-title"},[t._v(t._s(s.type))]),e("ul",{staticClass:"menu-list"},t._l(s.goods,function(s,a){return e("li",{key:a,staticClass:"menu-li"},[e("img",{staticClass:"food-pic",attrs:{src:s.pic}}),e("div",{staticClass:"food"},[e("p",{staticClass:"food-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"food-desc"},[t._v(t._s(s.desc))]),e("p",{staticClass:"food-desc"},[e("span",[t._v("\n                        月售"),e("span",[t._v(t._s(s.sale))]),t._v("份\n                      ")]),e("span",{staticClass:"food-rate"},[t._v("\n                        好评率"),e("span",[t._v(t._s(s.rate))]),t._v("%\n                      ")])]),e("p",{staticClass:"food-price"},[e("span",{staticClass:"rmb"},[t._v("￥")]),e("span",{staticClass:"price"},[t._v(t._s(s.price))]),s.price.length>1?e("span",{staticClass:"qi"},[t._v("起")]):t._e()]),e("div",{staticClass:"amount-wrap"},[s.num>0?e("span",{staticClass:"iconfont move-icon",on:{click:function(e){return t.move(s)}}},[t._v("")]):t._e(),s.num>0?e("span",{staticClass:"amount"},[t._v(t._s(s.num))]):t._e(),e("span",{staticClass:"iconfont add-icon",on:{click:function(e){return t.add(s,e)}}},[t._v("")])])])])}),0)])}),0)]),e("div",{staticClass:"cart",on:{click:t.showcart}},[e("div",{staticClass:"cart-btn",class:{"cart-full":t.addList.length}},[e("span",{staticClass:"iconfont cart-icon"},[t._v("")]),t.cartNum>0?e("div",{staticClass:"cart-dot"},[t._v(t._s(t.cartNum))]):t._e()]),e("p",{staticClass:"cart-info0"},[0===t.addList.length?e("span",{staticClass:"price0"},[t._v("未选购商品")]):t._e(),t.addList.length>0?e("span",{staticClass:"price1"},[t._v("¥"+t._s(t.realCost))]):t._e(),t.addList.length>0?e("span",{staticClass:"price2"},[t._v("¥"+t._s(t.priCost))]):t._e()]),e("p",{staticClass:"cart-info1"},[t._v("另需配送费")]),e("button",{staticClass:"pay-btn",class:{enPay:t.priCost>t.shop.min},attrs:{disabled:t.priCost<t.shop.min},on:{click:function(s){return s.stopPropagation(),t.pay(s)}}},[0===t.addList.length?e("span",{staticClass:"pay0"},[t._v("起送价¥"+t._s(t.shop.min))]):t._e(),t.addList.length>0&&t.priCost<t.shop.min?e("p",{staticClass:"pay0"},[t._v("\n            还差¥"+t._s((t.shop.min-t.priCost).toFixed(2))+"起送\n          ")]):t._e(),t.priCost>=t.shop.min?e("span",{staticClass:"pay1"},[t._v("去结算")]):t._e()])]),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"cart-slide"},[e("p",{staticClass:"slide-title"},[t._v("\n              已选商品\n              "),e("span",{staticClass:"silde-clear",on:{click:t.clear}},[e("span",{staticClass:"iconfont"},[t._v("")]),t._v("清空\n              ")])]),e("ul",t._l(this.addList,function(s,a){return e("li",{key:a,staticClass:"slide-li border-bottom"},[e("span",[t._v(t._s(s.title))]),e("span",{staticClass:"slide-price-wrap"},[t._v("\n                  ￥"),e("span",{staticClass:"slide-price"},[t._v(t._s(s.price*s.num))])]),e("div",{staticClass:"slide-amount-wrap"},[s.num>0?e("span",{staticClass:"iconfont slide-move-icon",on:{click:function(e){return t.move(s)}}},[t._v("")]):t._e(),s.num>0?e("span",{staticClass:"slide-amount"},[t._v(t._s(s.num))]):t._e(),e("span",{staticClass:"iconfont slide-add-icon",on:{click:function(e){return t.add(s,e)}}},[t._v("")])])])}),0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"mask",on:{click:function(s){return s.stopPropagation(),t.showcart(s)}}}),e("div",{staticClass:"ball-container"},t._l(t.balls,function(s,a){return e("div",{key:a},[e("transition",{on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner"},[t._v("1")])])])],1)}),0)],1):t._e()]),e("left-animation",[1===t.showPlate?e("div",{staticClass:"plate plate1"},[e("div",{staticClass:"evaluate-head"},[e("div",{staticClass:"evaluate-head-left"},[e("div",{staticClass:"evaluate-head-wrap"},[e("div",{staticClass:"evaluate-head-main"},[e("div",{staticClass:"evaluate-rate0"},[t._v(t._s(t.shop.rate))]),e("div",{staticClass:"evaluate-desc"},[e("p",{staticClass:"evaluate-desc0"},[t._v("商家评分")]),e("p",{staticClass:"evaluate-star"},[e("star",{attrs:{rate:t.shop.rate}})],1)])])])]),e("div",{staticClass:"evaluate-head-right"},[e("div",{staticClass:"evaluate-class"},[e("p",{staticClass:"evaluate-desc1"},[t._v("味道")]),e("p",{staticClass:"evaluate-rate1"},[t._v(t._s(t.shop.rate1))])]),e("div",{staticClass:"evaluate-class"},[e("p",{staticClass:"evaluate-desc1"},[t._v("包装")]),e("p",{staticClass:"evaluate-rate1"},[t._v(t._s(t.shop.rate2))])]),e("div",{staticClass:"evaluate-class"},[e("p",{staticClass:"evaluate-desc1"},[t._v("配送")]),e("p",{staticClass:"evaluate-rate1"},[t._v(t._s(t.shop.rate3))])])])]),e("div",{staticClass:"evaluate-main border-bottom"},[e("ul",{staticClass:"evaluate-tag-wrap"},t._l(t.shop.tag,function(s,a){return e("li",{key:a,staticClass:"evaluate-tag",class:{"tag-pos":(s.type,!s.select),"tag-neg":2===s.type&&!s.select,"tag-pos-active":(s.type,s.select),"tag-neg-active":2===s.type&&s.select},on:{click:function(e){return t.selectType(s.type,a)}}},[t._v("\n              "+t._s(s.desc)+"\n            ")])}),0),e("p",{staticClass:"evaluate-show border-bottom",on:{click:t.ifShowEva}},[e("span",{staticClass:"iconfont evaluate-icon",class:t.showEva?"enEva":"disEva"},[t._v("")]),t._v("只看有内容的评价\n          ")]),e("ul",{staticClass:"evaluate-list"},t._l(t.selectList,function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.showEva||s.desc,expression:"showEva || item.desc"}],key:a,staticClass:"evaluate-li border-bottom"},[e("div",{staticClass:"list-left"},[e("div",{staticClass:"list-pic",style:{backgroundImage:"url("+s.pic+")"}})]),e("div",{staticClass:"list-right"},[e("p",{staticClass:"list-info"},[e("span",{staticClass:"list-name"},[t._v(t._s(s.name))]),e("span",{staticClass:"list-date"},[t._v(t._s(s.date))])]),e("p",{staticClass:"list-star"},[e("star",{attrs:{rate:s.rate,label:!0}})],1),e("p",{staticClass:"list-desc"},[t._v(t._s(s.desc))])])])}),0)])]):t._e()]),e("right-animation",[2===t.showPlate?e("div",{staticClass:"plate"},[e("div",{staticClass:"brand-main"},[e("img",{staticClass:"brand-pic",attrs:{src:t.shop.headpic}}),e("p",{staticClass:"brand-name"},[t._v(t._s(t.shop.name))]),e("p",{staticClass:"brand-desc"},[t._v(t._s(t.shop.desc))])])]):t._e()])],1)],1)},he=[],pe=(e("20d6"),e("28a5"),e("e814")),ve=e.n(pe),fe=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"load"})},me=[],Ce={name:"load"},_e=Ce,ge=(e("527e"),Object(r["a"])(_e,fe,me,!1,null,"59857c4a",null)),be=ge.exports,we=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showPre,expression:"showPre"}],staticClass:"header-pre",attrs:{tag:"div",to:"/"}},[e("div",{staticClass:"iconfont header-pre-back"},[t._v("")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showPre,expression:"!showPre"}],staticClass:"header-fixed",style:t.opacityStyle},[e("router-link",{staticClass:"header-next",attrs:{tag:"div",to:"/"}},[e("div",{staticClass:"iconfont header-fixed-back"},[t._v("")])]),t._m(0)],1)],1)},ye=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search-wrap"},[e("span",{staticClass:"iconfont search-icon"},[t._v("")]),e("input",{staticClass:"search",attrs:{type:"text"}})])}],ke={name:"ShopHeader",data:function(){return{showPre:!0,opacityStyle:{opacity:0}}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;if(t>0){var s=t/50;s=s>1?1:s,this.opacityStyle={opacity:s},this.showPre=!1}else this.showPre=!0}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},xe=ke,Le=(e("7fa9"),Object(r["a"])(xe,we,ye,!1,null,"7c365a9c",null)),Se=Le.exports,Ee=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._l(t.list,function(s,a){return e("span",{key:a,domProps:{innerHTML:t._s(s)}},[t._v(t._s(s))])}),t.label?e("span",{staticClass:"star-label"},[t._v(t._s(t.word))]):t._e()],2)},Oe=[],$e={name:"star",props:{rate:Number,label:{type:Boolean,default:function(){return!1}}},computed:{list:function(){for(var t=[],s=0;s<Math.floor(this.rate);s++)t.push('<span class="iconfont star-full">&#xe66d;</span>');this.rate-Math.floor(this.rate)===.5&&t.push('<span class="iconfont star-half">&#xe645;</span>');while(t.length<5)t.push('<span class="iconfont star-empty">&#xe66d;</span>');return t},word:function(){var t;switch(this.rate){case 1:t="吐槽";break;case 2:t="较差";break;case 3:t="一般";break;case 4:t="满意";break;case 5:t="超赞";break}return t}}},je=$e,Ie=(e("cac0"),Object(r["a"])(je,Ee,Oe,!1,null,null,null)),Pe=Ie.exports,Ne=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",[t._t("default")],2)},He=[],Te={name:"LeftAnimation"},Be=Te,Ae=(e("a74c"),Object(r["a"])(Be,Ne,He,!1,null,"40968bc2",null)),De=Ae.exports,Ge=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",[t._t("default")],2)},qe=[],Me={name:"RightAnimation"},ze=Me,We=(e("d237"),Object(r["a"])(ze,Ge,qe,!1,null,"fd63b0a4",null)),Ye=We.exports,Fe={name:"shop",components:{ShopLoad:be,ShopHeader:Se,Star:Pe,LeftAnimation:De,RightAnimation:Ye},data:function(){return{showPlate:0,showLoading:!0,showDot:!1,showSlide:!1,showEva:!0,scrollY:0,type:0,shop:{},menuList:[],goods:[],listHeight:[],addList:[],evaList:[],balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[]}},methods:{getMenuInfo:function(){Ct.a.get("/api/menu.json").then(this.handleGetDataSucc)},handleGetDataSucc:function(t){var s=this;if(t=t.data,t.ret&&t.data){var e=t.data;this.shop=e,this.menuList=e.menuList,this.evaList=e.evaluteList,this.$nextTick(function(){s.initScroll(),s.calculateHeight()}),this.showLoading=!1}},initScroll:function(){var t=this;this.menuScroll=new Kt["a"](this.$refs.menuWrapper,{click:!0,preventDefault:!1,bounce:{top:!1,bottom:!1}}),this.foodScroll=new Kt["a"](this.$refs.foodWrapper,{click:!0,preventDefault:!1,probeType:3,bounce:{top:!1,bottom:!1}}),this.foodScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},calculateHeight:function(){var t=this.$refs.foodWrapper.getElementsByClassName("food-hook"),s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){var a=t[e];s+=a.clientHeight,this.listHeight.push(s)}},selectMenu:function(t,s){if(s._constructed){var e=this.$refs.foodWrapper.getElementsByClassName("food-hook"),a=e[t];this.foodScroll.scrollToElement(a,300)}},showcart:function(){this.addList.length&&(this.showSlide=!this.showSlide)},compare:function(t,s,e){return t>=ve()(s[e].split("-")[0])?s[e+1]?this.compare(t,s,++e):s[e].split("-")[1]:0===e?0:s[e-1].split("-")[1]},tab:function(t){var s=this;this.showPlate=t,0===t&&this.$nextTick(function(){s.initScroll(),s.calculateHeight()})},pay:function(){alert("敬请期待")},add:function(t,s){var e=this.addList.findIndex(function(s){return s.id===t.id});-1===e?(t.num+=1,this.addList.push(t)):this.addList[e].num++,this.drop(s.target)},move:function(t){var s=this.addList.findIndex(function(s){return s.id===t.id});this.addList[s].num--,0===this.addList[s].num&&this.addList.splice(s,1),0===this.addList.length&&(this.showSlide=!1)},clear:function(){for(var t=0;t<this.addList.length;t++)this.addList[t].num=0;this.addList=[],this.showSlide=!1},drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeDrop:function(t){var s=this.dropBalls[this.dropBalls.length-1],e=s.el.getBoundingClientRect(),a=e.left-32,i=-(window.innerHeight-e.top-22);t.style.display="",t.style.transform=t.style.webkitTransform="translate3d(0,".concat(i,"px,0)");var n=t.getElementsByClassName("inner")[0];n.style.transform=n.style.webkitTransform="translate3d(".concat(a,"px,0,0)")},dropping:function(t,s){this._reflow=document.body.offsetHeight,t.style.transform=t.style.webkitTransform="translate3d(0,0,0)";var e=t.getElementsByClassName("inner")[0];e.style.transform=e.style.webkitTransform="translate3d(0,0,0)",t.addEventListener("transitionend",s)},afterDrop:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")},ifShowEva:function(){this.showEva=!this.showEva},selectType:function(t,s){for(var e=this.shop.tag,a=0;a<e.length;a++)this.shop.tag[a].select=!1;e[s].select=!0,this.type=t}},created:function(){this.getMenuInfo()},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0},cartNum:function(){for(var t=0,s=0;s<this.addList.length;s++)t+=this.addList[s].num;return t},Cost:function(){for(var t=0,s=0;s<this.addList.length;s++)t+=this.addList[s].num*this.addList[s].price;return t.toFixed(2)},priCost:function(){for(var t=0,s=0;s<this.addList.length;s++)t+=this.addList[s].num*this.addList[s].price;return t.toFixed(2)},disCost:function(){var t=this.compare(this.priCost,this.shop.discount,0);return t},realCost:function(){var t=this.priCost-this.disCost;return t.toFixed(2)},selectList:function(){var t;switch(this.type){case 0:t=this.evaList;break;case 1:t=this.evaList.filter(function(t){return 1===t.type});break;case 2:t=this.evaList.filter(function(t){return 2===t.type});break;default:t=this.evaList}return t}}},Re=Fe,Ue=(e("ec95"),Object(r["a"])(Re,de,he,!1,null,"5e18c93a",null)),Je=Ue.exports,Qe=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("404 Not Found")])},Ke=[],Ve={name:"error"},Xe=Ve,Ze=Object(r["a"])(Xe,Qe,Ke,!1,null,null,null),ta=Ze.exports;a["a"].use(d["a"]);var sa=new d["a"]({linkActiveClass:"active",routes:[{path:"/",redirect:"/home",name:"index",component:k,children:[{path:"home",name:"home",component:wt},{path:"explore",name:"explore",component:is},{path:"zone",name:"zone",component:us}]},{path:"/city",name:"city",component:qs},{path:"/detail/:id",name:"detail",component:ue},{path:"/shop",name:"shop",component:Je},{path:"*",name:"error",component:ta}],scrollBehavior:function(t,s,e){return{x:0,y:0}}}),ea="北京";try{localStorage.city&&(ea=localStorage.city)}catch(ha){}var aa={city:ea},ia={changeCity:function(t,s){t.city=s;try{localStorage.city=s}catch(ha){}}};a["a"].use(T["a"]);var na=new T["a"].Store({state:aa,mutations:ia}),oa=e("fe3c"),ca=e.n(oa),ra=e("1f80"),la=e.n(ra),ua=e("6112"),da=e.n(ua);e("dfa4"),e("7371"),e("aa47"),e("b068");a["a"].config.productionTip=!1,ca.a.attach(document.body),a["a"].use(la.a),a["a"].use(da.a),new a["a"]({router:sa,store:na,render:function(t){return t(u)}}).$mount("#app")},"5c02":function(t,s,e){"use strict";var a=e("2502"),i=e.n(a);i.a},"5c7d":function(t,s,e){"use strict";var a=e("0854"),i=e.n(a);i.a},"600c":function(t,s,e){},"64f4":function(t,s,e){"use strict";var a=e("cfa8"),i=e.n(a);i.a},"65b2":function(t,s,e){"use strict";var a=e("29c2"),i=e.n(a);i.a},7371:function(t,s,e){},"7b66":function(t,s,e){},"7fa9":function(t,s,e){"use strict";var a=e("a37c"),i=e.n(a);i.a},"7faf":function(t,s,e){"use strict";var a=e("1bb6"),i=e.n(a);i.a},8235:function(t,s,e){},"82ac":function(t,s,e){},a37c:function(t,s,e){},a3ac:function(t,s,e){"use strict";var a=e("01d9"),i=e.n(a);i.a},a631:function(t,s,e){},a74c:function(t,s,e){"use strict";var a=e("1098"),i=e.n(a);i.a},aa47:function(t,s,e){},ae57:function(t,s,e){},ae8e:function(t,s,e){},b068:function(t,s,e){},b67e:function(t,s,e){},b6e4:function(t,s,e){"use strict";var a=e("470a"),i=e.n(a);i.a},b7da:function(t,s,e){"use strict";var a=e("3a51"),i=e.n(a);i.a},b8ba:function(t,s,e){"use strict";var a=e("155a"),i=e.n(a);i.a},cac0:function(t,s,e){"use strict";var a=e("30a7"),i=e.n(a);i.a},cb80:function(t,s,e){"use strict";var a=e("ff5b"),i=e.n(a);i.a},cf91:function(t,s,e){"use strict";var a=e("600c"),i=e.n(a);i.a},cfa8:function(t,s,e){},d237:function(t,s,e){"use strict";var a=e("b67e"),i=e.n(a);i.a},d298:function(t,s,e){},d710:function(t,s,e){"use strict";var a=e("07e8"),i=e.n(a);i.a},d7ac:function(t,s,e){"use strict";var a=e("28b2"),i=e.n(a);i.a},da5f:function(t,s,e){"use strict";var a=e("ae57"),i=e.n(a);i.a},e071:function(t,s,e){"use strict";var a=e("a631"),i=e.n(a);i.a},e9f1:function(t,s,e){"use strict";var a=e("f57b"),i=e.n(a);i.a},ec95:function(t,s,e){"use strict";var a=e("d298"),i=e.n(a);i.a},ef78:function(t,s,e){"use strict";var a=e("8235"),i=e.n(a);i.a},f57b:function(t,s,e){},f61b:function(t,s,e){"use strict";var a=e("7b66"),i=e.n(a);i.a},ff5b:function(t,s,e){}});
//# sourceMappingURL=app.76f1625d.js.map